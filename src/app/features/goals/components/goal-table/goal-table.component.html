<div class="overflow-y-auto">
  <table class="w-full text-neutral-400">
    <thead class="bg-neutral-600">
      <th>#</th>
      <th>
        <button
          (click)="sortByName()"
          [ngClass]="[
            sortedBy === 'name' ? 'active' : '',
            'flex items-center hover:text-green-600'
          ]"
        >
          NAME
          <svg
            class="w-3 h-3 ms-1.5"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"
            />
          </svg>
        </button>
      </th>
      <th>
        <button
          (click)="sortByStartDate()"
          [ngClass]="[
            sortedBy === 'start' ? 'active' : '',
            'flex items-center hover:text-green-600'
          ]"
        >
          START
          <svg
            class="w-3 h-3 ms-1.5"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"
            />
          </svg>
        </button>
      </th>
      <th>
        <button
          (click)="sortByEndDate()"
          [ngClass]="[
            sortedBy === 'end' ? 'active' : '',
            'flex items-center hover:text-green-600'
          ]"
        >
          END
          <svg
            class="w-3 h-3 ms-1.5"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"
            />
          </svg>
        </button>
      </th>
      <th>
        <button
          (click)="sortByTotalKMs()"
          [ngClass]="[
            sortedBy === 'km' ? 'active' : '',
            'flex items-center hover:text-green-600'
          ]"
        >
          KM
          <svg
            class="w-3 h-3 ms-1.5"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"
            />
          </svg>
        </button>
      </th>
      <th>
        <button
          (click)="sortByStatus()"
          [ngClass]="[
            sortedBy === 'status' ? 'active' : '',
            'flex items-center hover:text-green-600'
          ]"
        >
          STATUS
          <svg
            class="w-3 h-3 ms-1.5"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"
            />
          </svg>
        </button>
      </th>
    </thead>
    <tbody class="bg-neutral-700">
      <!-- El track se usa para tener un control del renderizado sobre los elementos mÃ¡s efectivo -->
      @for (goal of sortedGoals; track goal.id; let index = $index) {
      <tr>
        <td>{{ $index + 1 }}</td>
        <td>
          <a [routerLink]="goal.id">{{ goal.title }}</a>
        </td>
        <td>{{ goal.startDate | timestampToDate }}</td>
        <td>{{ goal.endDate | timestampToDate }}</td>
        <td>{{ goal.km }}</td>
        <td class="flex items-center">
          <span
            [ngClass]="[
              'flex w-3 h-3 me-3 bg-green-500 rounded-full',
              goal.complete ? 'bg-green-500' : 'bg-yellow-600'
            ]"
          ></span>
          {{ goal.complete ? "Completed" : "In Progress" }}

          <!-- @if (goal.complete) {
							<span class="flex w-3 h-3 me-3 bg-green-500 rounded-full"></span> Completed
						} @else {
							<span class="flex w-3 h-3 me-3 bg-yellow-600 rounded-full"></span>In Progress
						} -->
        </td>
      </tr>
      } @empty {
      <tr>
        <td colspan="6" class="text-neutral-500 font-bold !text-center">
          No goals yet
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>

<small class="block w-full pt-2 text-center text-neutral-500"
  >Sorted in {{ sortDirection }}. order</small
>
